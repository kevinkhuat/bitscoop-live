<!DOCTYPE html>
<html lang="en-US">
	<head>{% load staticfiles %}
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" />

		{% block meta %}
		<title>{{ title }}</title>
		<link rel="shortcut icon" href="{% static 'assets/favicon.png' %}" />
		{% endblock %}

		{% block static %}
        {# TODO: Dependancy problems with libraries need to be fixed with require #}
		<script type="text/javascript" src="https://code.jquery.com/jquery-latest.min.js"></script>
		<script type="text/javascript" src="{% static 'assets/lib/isotope/isotope.pkgd.js' %}"></script>
		<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.19.3/javascript/semantic.min.js"></script>

		<link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Lato:300,400,700|Source+Sans+Pro:300,400,700" />
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/0.19.3/css/semantic.min.css" />

		<script type="text/javascript" src="{% static 'shared/js/site.js' %}"></script>
		<link rel="stylesheet" type="text/css" href="{% static 'assets/lib/icomoon/fonticons.css' %}" />
		<link rel="stylesheet" type="text/css" href="{% static 'shared/css/site.css' %}" />
		{% endblock %}
	</head>

	<body class="flex {{ body_class }} {% if request.mobile %}mobile{% endif %}">
		{% block body %}
		<header class="bg gray light bordered bottom {{ header_class }}">
			<nav class="flex stretch lockwidth centered">
				<div class="flex center grow">
					{% block branding %}
					<a id="logo" class="item" href="{% url 'core_index' %}"><img src="{% static 'assets/logo_240.png' %}" alt="Ografy" /></a>
					{% endblock %}

					{% block navlinks %}
					{% if not request.user.is_authenticated %}
					<a class="item" href="{% url 'core_start' %}">Get Started</a>
					{% endif %}
					<a class="item" href="{% url 'core_providers' %}">Providers</a>
					<a class="item" href="http://blog.ografy.io" target="_blank">Blog</a>
					{% endblock %}
					{% if request.user.is_authenticated %}
					<div class="item">
						<a class="user-button">{{ request.user.identifier }}</a>
						<div class="flex column menu main hidden">
							<a class="item" href="{% url 'core_user_my_profile' %}">
								User Home
							</a>
							<a class="item" href="{% url 'core_settings_personal' %}">
								Settings
							</a>
							<a class="item" href="{% url 'core_logout' %}">
								Log Out
							</a>
						</div>
					</div>
					{% else %}
					<a class="item" href="{% url 'core_signup' %}">Sign Up</a>
					<a class="item" href="{% url 'core_login' %}">Log In</a>
					{% endif %}
				</div>
			</nav>
		</header>

		<main class="grow {{ main_class }}">
			{% block main %}
			<div class="flex grow lockwidth centered">
				<aside id="left" class="{{ left_class }}">{% block left %}{% endblock %}</aside>
				<div id="content" class="grow {{ content_class }}">{% block content %}{% endblock %}</div>
				<aside id="right" class="{{ right_class }}">{% block right %}{% endblock %}</aside>
			</div>
			{% endblock %}
		</main>

		<footer class="bg gray light bordered top {{ footer_class }}">
			<div class="lockwidth centered center">
				&copy 2014 Ografy, LLC.<br/>
				<a href="{% url 'core_contact' %}">Contact Us</a>
			</div>
		</footer>
		{% endblock %}
	</body>
</html>
